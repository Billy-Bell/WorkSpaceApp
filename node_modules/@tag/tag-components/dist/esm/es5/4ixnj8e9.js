/*! Built with http://stenciljs.com */
import{h}from"./tag-library.core.js";import{c as setElementFieldData,d as setElementFieldReferences}from"./chunk-84f999a0.js";import{g as copy}from"./chunk-8b261813.js";var TagEditList=function(){function e(){this.containerClassName="tag-edit-list"}return e.prototype.componentDidLoad=function(){this.processItemTemplate();var e=copy(this.data);this.changedData=e},e.prototype.componentDidUpdate=function(){if(this.processItemTemplate(),!this.changedData){var e=copy(this.data);this.changedData=e}},e.prototype.setData=function(e){this.data=e.data?e.data:e},e.prototype.changeHandler=function(e){var t=e.detail;this.changedData[t.listIndex][t.name]=t.value,this.listItemChanged.emit({data:this.changedData,item:this.changedData[t.listIndex],itemIndex:t.listIndex,name:t.name,value:t.value})},e.prototype.setValue=function(e){var t=e.itemIndex,a=e.name,n=e.value,i=e.suppressChangeEvent,r=e.suppressValidation;if(t<this.changedData.length){this.changedData[t][a]=n;var s=this.getListItemNodes()[t].querySelector("tag-edit-field[name='"+a+"']");s&&s.setValue(n,r,i)}else console.error("Error setting value, itemIndex does not exist")},e.prototype.render=function(){var e=this;return h("div",{class:this.containerClassName},h("slot",{name:"header"}),h("ul",{style:{height:this.height,maxHeight:this.maxHeight,minHeight:this.minHeight}},this.data&&this.data.map(function(){return h("li",{class:e.itemContainerClassName})})),h("slot",{name:"footer"}))},e.prototype.processItemTemplate=function(){var e=this.element.querySelector("template");if(e)for(var t=this.getListItemNodes(),a=0;a<t.length;a++){var n=e.content.cloneNode(!0);setElementFieldData(n,a,this.data),setElementFieldReferences(n,a,this.data),this.setElementFieldListIndexes(n,a);var i=t[a];this.clearListItemChildren(i),i.appendChild(n)}},e.prototype.setElementFieldListIndexes=function(e,t){for(var a=e.querySelectorAll("tag-edit-field"),n=0;n<a.length;n++){var i=a[n];i.setAttribute("data-li",t.toString()),i.setAttribute("data-lname",this.name)}},e.prototype.clearListItemChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},e.prototype.getListItemNodes=function(){return this.element.shadowRoot?this.element.shadowRoot.querySelectorAll("ul li"):this.element.querySelectorAll("ul li")},Object.defineProperty(e,"is",{get:function(){return"tag-edit-list"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{containerClassName:{type:String,attr:"container-class-name"},data:{type:"Any",attr:"data",mutable:!0},element:{elementRef:!0},height:{type:String,attr:"height"},itemContainerClassName:{type:String,attr:"item-container-class-name"},maxHeight:{type:String,attr:"max-height"},minHeight:{type:String,attr:"min-height"},name:{type:String,attr:"name"},setData:{method:!0},setValue:{method:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"listItemChanged",method:"listItemChanged",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"listeners",{get:function(){return[{name:"valueChange",method:"changeHandler"}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":host .tag-edit-list{background-color:#fff}:host ul{margin:0;padding:0;border:0;box-sizing:border-box;overflow-y:auto}:host li{display:flex;align-items:center;justify-content:space-between;margin:0;padding:5px;border:1px solid #e2ecef;border-top:0;box-sizing:border-box;list-style-type:none;cursor:pointer}:host li:first-child{border-top:1px solid #e2ecef}:host li:focus{outline-color:#e2ecef}"},enumerable:!0,configurable:!0}),e}();export{TagEditList};