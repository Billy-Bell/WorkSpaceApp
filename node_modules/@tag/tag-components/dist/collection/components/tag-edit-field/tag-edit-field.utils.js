import { findArrayInObject } from '../../shared/utils';
/**
 * Maps data to IFieldItem[] which is what the field component expects
 * @param {any} data - The data to map
 * @param {string} defaultValue - The default value
 */
export const mapItems = (data, defaultValue) => {
    let arr = [];
    if (Array.isArray(data)) {
        arr = data;
    }
    else if (data && data.data && Array.isArray(data.data)) {
        arr = data.data;
    }
    else if (data) {
        arr = findArrayInObject(data);
    }
    const itemsArr = [];
    if (arr && arr.length > 0) {
        arr.map(item => {
            if (typeof item === 'string') {
                itemsArr.push({
                    label: item,
                    selected: defaultValue && item.toLocaleLowerCase() === defaultValue.toLocaleLowerCase()
                        ? true
                        : false,
                    value: item,
                });
            }
            else {
                itemsArr.push({
                    label: item.label ? item.label : item.value,
                    selected: defaultValue && item.value.toLocaleLowerCase() === defaultValue.toLocaleLowerCase()
                        ? true
                        : false,
                    value: item.value ? item.value : item.label,
                });
            }
        });
    }
    return itemsArr;
};
