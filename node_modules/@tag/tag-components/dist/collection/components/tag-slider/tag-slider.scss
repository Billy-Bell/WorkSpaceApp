@import '../../shared/style-atoms';

:host {
  .tag-slider {
    @include tag-text-default;

    width: inherit;

    $track-w: 100%;
    $track-h: 4px;
    $thumb-d: 16px;
    $track-c: #DBDFE4;
    $filll-c: $dolphinblue;

    @mixin track() {
      box-sizing: border-box;
      border-color:$track-c;
      width: $track-w;
      height: $track-h;
      background: $track-c;
      border-radius: 10px;
    }

    @mixin fill() {
      height: $track-h;
      background: linear-gradient(to right, lighten($filll-c, 25%) , darken($filll-c,5%));
      background: red;
    }

    @mixin thumb() {
      box-sizing: border-box;
      border: none;
      width: $thumb-d;
      height: $thumb-d;
      border-radius: 50%;
      background: lighten($filll-c,5%)
    }

    .tag-slider__range-input {
      &,
      &::-webkit-slider-thumb {
        -webkit-appearance: none;
      }

      --range: calc(var(--max) - var(--min));
      --ratio: calc((var(--val) - var(--min)) / var(--range));
      --sx: calc(0.5 *#{$thumb-d} + var(--ratio) * (100% - #{$thumb-d}));
      vertical-align: middle;
      margin: 0px 5px 0px 5px;
      padding: 0;
      width: $track-w;
      height: $thumb-d;
      background: transparent;
      font: 1em/1 arial, sans-serif;

      &::-webkit-slider-runnable-track {
        @include track;
        background: linear-gradient(to right, lighten($filll-c,15%) , darken($filll-c, 5%)) 0 / var(--sx) 100% no-repeat $track-c;
        border-radius: 10px;
      }
      &::-moz-range-track {
        @include track;
      }
      &::-ms-track {
        @include track;
      }

      &::-moz-range-progress {
        @include fill;
      }
      &::-ms-fill-lower {
        @include fill;
      }

      &::-webkit-slider-thumb {
        margin-top: 0.5 * ($track-h - $thumb-d);
        @include thumb;
      }
      &::-moz-range-thumb {
        @include thumb;
      }
      &::-ms-thumb {
        margin-top: 0;
        @include thumb;
      }

      &::-ms-tooltip {
        display: none;
      }
    }

    .tag-slider__value {
      margin-left: 10px;
      padding-top: 6px;
      color: #B8B8C4;
      font-family: $content-font-family;
      font-weight: 700;
      font-size: 15px;
      text-align: center;
    }
    @each $name, $colour in $Colours {

      .tag-slider__range-input__#{$name}:focus {
        outline: none;
        &::-webkit-slider-thumb {
          border: none;
          background: lighten($colour,15%);
          transition: all 0.3s ease;
        }
        &::-moz-range-thumb {
          border: none;
          background: lighten($colour,15%);
          transition: all 0.3s ease;
        }
        &::-ms-thumb {
          border: none;
          background: lighten($colour,15%);
          transition: all 0.3s ease;
        }
      }

      .tag-slider__accent__background__#{$name} {

        &::-webkit-slider-thumb {
          background: lighten($colour,5%);
        }
        &::-moz-range-thumb {
          background: lighten($colour,5%);
        }
        &::-ms-thumb {
          background: lighten($colour,5%);
        }
        &::-moz-range-progress {
          background: lighten($colour,5%);
        }
        &::-ms-fill-lower {
          background: lighten($colour,5%);
        }
        &::-webkit-slider-runnable-track {
          background: linear-gradient(to right, lighten($colour,5%), $colour) 0 / var(--sx) 100% no-repeat $track-c;
          border-radius: 10px;
        }
      }
    }
  }
}
