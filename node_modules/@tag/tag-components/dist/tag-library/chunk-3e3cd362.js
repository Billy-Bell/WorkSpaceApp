/*! Built with http://stenciljs.com */
const{h:e}=window.TagLibrary;import{b as t}from"./chunk-caf2685f.js";import{a as r}from"./chunk-8da4d25d.js";var a=function(e,t,r,a){return new(r||(r=Promise))(function(n,s){function o(e){try{u(a.next(e))}catch(e){s(e)}}function i(e){try{u(a.throw(e))}catch(e){s(e)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(o,i)}u((a=a.apply(e,t||[])).next())})};const n=e=>e&&e.length>0?e.map(e=>({args:o(e.args,e.rule),executeOn:e.executeOn,message:e.message?e.message:e.textContent.trim(),rule:s(e.rule)})):[],s=e=>{switch(e.toLowerCase()){case"required":return d;case"email":case"isemail":return v;case"url":case"isurl":return p;case"maxlength":return f;case"minlength":return m;case"inarray":return g;case"notinarray":return y;case"matches":return b;case"greaterthan":return w;case"greaterthanorequalto":return x;case"lessthan":return T;case"lessthanorequalto":return O;case"inhttpresponse":return L;case"notinhttpresponse":return C;default:return window[e]?window[e]:void 0}},o=(e,r)=>{if(e&&"string"==typeof e){const a=i(e);return"maxlength"!==r.toLowerCase()&&"minlength"!==r.toLowerCase()||(a.dataType="integer"),"inarray"!==r.toLowerCase()&&"notinarray"!==r.toLowerCase()&&"inhttpresponse"!==r.toLowerCase()&&"notinhttpresponse"!==r.toLowerCase()||(a.value=JSON.parse(e)),t(a.value,a.dataType)}return e},i=e=>{const t={dataType:"string",value:e};if(e&&"string"==typeof e&&e.indexOf("|")>0){const r=e.indexOf("|");t.dataType=e.substring(r+1),t.value=e.substring(0,r)}return t},u=(e,t,r,n="blur")=>a(void 0,void 0,void 0,function*(){const s={valid:!0,errors:[]};return t&&t.length>0&&(yield Promise.all(t.map(t=>a(this,void 0,void 0,function*(){if(t&&t.rule&&t.executeOn===n){const a=yield t.rule(r,e,t.args);a&&(s.valid=!1,s.errors.push(t.message?t.message:a))}})))),s}),c=e=>{let t=!1;return e&&e.length>0&&e.forEach(e=>{e&&e.rule&&e.executeOn&&"valuechange"===e.executeOn.toLowerCase()&&(t=!0)}),t},l=(e,t)=>{const r=e&&e.body,a=({}=(e=>{const t={};return e&&Object.keys(e).forEach(r=>{const a=(e=>{let t=r;return t&&(t=t.charAt(0).toLowerCase()+t.substring(1)),t})();t[a]=e[r]}),t})(r));return t.forEach(e=>{a[e]||(a[e]=[])}),a},h=e=>null==e||""===e,d=(e,t)=>h(e[t])?"This must be populated":"",v=(e,t)=>h(e[t])||-1!==e[t].search(/^[a-zA-Z0-9.!#$%&â€™*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?"":"This must be in a valid email format",p=(e,t)=>!h(e[t])&&e[t].search(new RegExp("^(http|https)://","i"))?"This must be in a valid URL format":"",f=(e,t,r)=>!h(e[t])&&e[t].length>r?`This can not exceed ${r} characters`:"",m=(e,t,r)=>e[t].length<r?`This must be at least ${r} characters`:"",g=(e,t,r)=>-1===r.indexOf(e[t])?"This is not a valid value":"",y=(e,t,r)=>r.indexOf(e[t])>-1?"This is not a valid value":"",b=(e,t,r)=>h(e[t])||-1!==e[t].search(r)?"":"This is not in the correct format",w=(e,t,r)=>e[t]>r?"":`This value must be greater than ${r}`,x=(e,t,r)=>e[t]>=r?"":`This value must be greater than or equal to ${r}`,T=(e,t,r)=>e[t]<r?"":`This value must be less than ${r}`,O=(e,t,r)=>e[t]<=r?"":`This value must be less than or equal to ${r}`,L=(e,t,r)=>a(void 0,void 0,void 0,function*(){return-1===(yield $(r)).indexOf(e[t])?"This is not a valid value":""}),C=(e,t,r)=>a(void 0,void 0,void 0,function*(){return(yield $(r)).indexOf(e[t])>-1?"This is not a valid value":""}),$=e=>a(void 0,void 0,void 0,function*(){let t,a="",n="";"string"==typeof e?t=e:(t=e.path,a=e.responseBodyArrayProp,n=e.objectProp);const s=yield r({path:t});let o;return(o=s&&s.body?a&&s.body[a]?s.body[a]:Array.isArray(s.body)?s.body:[]:[]).map(e=>n&&e[n]?e[n]:e)});export{n as a,u as b,c,l as d};