/*! Built with http://stenciljs.com */
const{h:t}=window.TagLibrary;import{c as e,d as a}from"./chunk-84f999a0.js";import{g as s}from"./chunk-8b261813.js";class i{constructor(){this.containerClassName="tag-edit-list"}componentDidLoad(){this.processItemTemplate();const t=s(this.data);this.changedData=t}componentDidUpdate(){if(this.processItemTemplate(),!this.changedData){const t=s(this.data);this.changedData=t}}setData(t){this.data=t.data?t.data:t}changeHandler(t){const e=t.detail;this.changedData[e.listIndex][e.name]=e.value,this.listItemChanged.emit({data:this.changedData,item:this.changedData[e.listIndex],itemIndex:e.listIndex,name:e.name,value:e.value})}setValue(t){const{itemIndex:e,name:a,value:s,suppressChangeEvent:i,suppressValidation:n}=t;if(e<this.changedData.length){this.changedData[e][a]=s;const t=this.getListItemNodes()[e].querySelector(`tag-edit-field[name='${a}']`);t&&t.setValue(s,n,i)}else console.error("Error setting value, itemIndex does not exist")}render(){return t("div",{class:this.containerClassName},t("slot",{name:"header"}),t("ul",{style:{height:this.height,maxHeight:this.maxHeight,minHeight:this.minHeight}},this.data&&this.data.map(()=>t("li",{class:this.itemContainerClassName}))),t("slot",{name:"footer"}))}processItemTemplate(){const t=this.element.querySelector("template");if(t){const s=this.getListItemNodes();for(let i=0;i<s.length;i++){const n=t.content.cloneNode(!0);e(n,i,this.data),a(n,i,this.data),this.setElementFieldListIndexes(n,i);const l=s[i];this.clearListItemChildren(l),l.appendChild(n)}}}setElementFieldListIndexes(t,e){const a=t.querySelectorAll("tag-edit-field");for(let t=0;t<a.length;t++){const s=a[t];s.setAttribute("data-li",e.toString()),s.setAttribute("data-lname",this.name)}}clearListItemChildren(t){for(;t.firstChild;)t.removeChild(t.firstChild)}getListItemNodes(){return this.element.shadowRoot?this.element.shadowRoot.querySelectorAll("ul li"):this.element.querySelectorAll("ul li")}static get is(){return"tag-edit-list"}static get encapsulation(){return"shadow"}static get properties(){return{containerClassName:{type:String,attr:"container-class-name"},data:{type:"Any",attr:"data",mutable:!0},element:{elementRef:!0},height:{type:String,attr:"height"},itemContainerClassName:{type:String,attr:"item-container-class-name"},maxHeight:{type:String,attr:"max-height"},minHeight:{type:String,attr:"min-height"},name:{type:String,attr:"name"},setData:{method:!0},setValue:{method:!0}}}static get events(){return[{name:"listItemChanged",method:"listItemChanged",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"valueChange",method:"changeHandler"}]}static get style(){return".sc-tag-edit-list-h   .tag-edit-list.sc-tag-edit-list{background-color:#fff}.sc-tag-edit-list-h   ul.sc-tag-edit-list{margin:0;padding:0;border:0;box-sizing:border-box;overflow-y:auto}.sc-tag-edit-list-h   li.sc-tag-edit-list{display:flex;align-items:center;justify-content:space-between;margin:0;padding:5px;border:1px solid #e2ecef;border-top:0;box-sizing:border-box;list-style-type:none;cursor:pointer}.sc-tag-edit-list-h   li.sc-tag-edit-list:first-child{border-top:1px solid #e2ecef}.sc-tag-edit-list-h   li.sc-tag-edit-list:focus{outline-color:#e2ecef}"}}export{i as TagEditList};