/*! Built with http://stenciljs.com */
var __generator=this&&this.__generator||function(t,e){var r,i,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};TagLibrary.loadBundle("wlk6vwnw",["exports","./chunk-bd7cacee.js","./chunk-9f879476.js","./chunk-111ae45a.js","./chunk-cf83dc03.js"],function(t,e,r,i,n){var s=window.TagLibrary.h,a=function(t,e,r,i){return new(r||(r=Promise))(function(n,s){function a(t){try{u(i.next(t))}catch(t){s(t)}}function o(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){t.done?n(t.value):new r(function(e){e(t.value)}).then(a,o)}u((i=i.apply(t,e||[])).next())})},o=function(){function t(){var t=this;this.type="form",this.submitButtonText="Submit",this.submitButtonDisabled=!1,this.submitSuccessMessage="The information was successfully saved!",this.submitFailureMessage="Sorry, an unexpected error has occurred",this.submitValidationMessage="Sorry, some of the information is invalid. Please review, adjust and try again",this.submitStarting=this.emptySubmitStarting,this.serverValidationMapper=r.mapServerValidation,this.formStyle="",this.errors={},this.submitState={inProgress:!1},this.values={},this.validateForm=function(){return a(t,void 0,void 0,function(){var t,e=this;return __generator(this,function(r){switch(r.label){case 0:return t=this.getFields(),[4,Promise.all(t.map(function(t){return a(e,void 0,void 0,function(){var e;return __generator(this,function(r){switch(r.label){case 0:return[4,t.validate()];case 1:return e=r.sent(),this.setError(t.name,e),[2]}})})}))];case 1:return r.sent(),[2,!this.haveErrors()]}})})},this.haveErrors=function(){var e=!1;return Object.keys(t.errors).forEach(function(r){t.errors[r].length>0&&(e=!0)}),e},this.handleKeyPress=function(e){13===(e.which||e.keyCode||0)&&e.target.allowSubmitOnReturn&&t.handleSubmit()},this.handleSubmit=function(e){return a(t,void 0,void 0,function(){var t,r,i=this;return __generator(this,function(n){switch(n.label){case 0:return e&&e.preventDefault(),this.submitButtonDisabled?[2]:([].slice.call(this.element.querySelectorAll("input")).forEach(function(t){t.name&&void 0!==t.value&&(i.values[t.name]=t.value)}),this.getFields().forEach(function(t){var e=t;void 0!==e.value&&(i.values[e.name]=e.value)}),[4,this.submitStarting(this.values)]);case 1:return(t=n.sent()).cancel?[2]:(this.values=t.values,[4,this.validateForm()]);case 2:return n.sent()&&(this.submitState=Object.assign({},this.submitState,{inProgress:!0}),this.submitButtonDisabled=!0,r=Object.assign({type:this.type},this.values),this.submit.emit({body:r})),[2]}})})}}return t.prototype.watchHandler=function(t,e){this.submitState=!0===t&&!1===e?Object.assign({},this.submitState,{inProgress:!0}):Object.assign({},this.submitState,{inProgress:!1})},t.prototype.getFieldValues=function(){return this.values},t.prototype.getFieldValue=function(t){return this.values[t]},t.prototype.setFieldValues=function(t){this.values=Object.assign({},this.values,t)},t.prototype.setFieldValue=function(t,e){var r,i=((r={})[t]=e,r);this.values=Object.assign({},this.values,i)},t.prototype.setError=function(t,e){var r;this.errors=Object.assign({},this.errors,((r={})[t]=e,r))},t.prototype.changeHandler=function(t){return a(this,void 0,void 0,function(){var e;return __generator(this,function(r){return e=t.detail,this.setFieldValue(e.name,e.value),[2]})})},t.prototype.validatedHandler=function(t){return a(this,void 0,void 0,function(){var e;return __generator(this,function(r){return e=t.detail,this.setError(e.name,e.errors),[2]})})},t.prototype.submitComplete=function(t){var e=this,r={};Object.keys(this.values).forEach(function(t){r[t]=[]}),400===t.status&&(r=this.serverValidationMapper(t,Object.keys(this.values))),this.submitState=Object.assign({},this.submitState,{inProgress:!1,result:{success:t.ok,validationError:400===t.status}}),this.errors=r,this.getFields().forEach(function(t){var r=t;r.setErrors(e.errors[r.name]),r.setFormSuccessfullySubmitted(e.submitState.result.success)})},t.prototype.render=function(){return s("form",{style:e.createStyleFromJson(this.formStyle),onSubmit:this.handleSubmit,onKeyPress:this.handleKeyPress,novalidate:!0,class:this.inline?"tag-form-inline":"tag-form"},s("slot",null),s("tag-form-group",{inline:this.inline,borderless:this.inline},s("tag-button",{type:"submit",icon:this.submitButtonIcon,"icon-accent":this.submitButtonIconAccent,accent:this.submitButtonAccent,disabled:this.haveErrors()||this.submitState.inProgress||this.submitButtonDisabled,onButtonClick:this.handleSubmit,text:this.submitButtonText})),this.submitState.result&&this.submitState.result.success&&s("tag-form-group",{inline:this.inline,borderless:this.inline},s("tag-alert",{type:"information"},this.submitSuccessMessage)),this.submitState.result&&!1===this.submitState.result.success&&!this.submitState.result.validationError&&s("tag-form-group",{inline:this.inline,borderless:this.inline},s("tag-alert",{type:"danger"},this.submitFailureMessage)),this.submitState.result&&!1===this.submitState.result.success&&this.submitState.result.validationError&&s("tag-form-group",{inline:this.inline,borderless:this.inline},s("tag-alert",{type:"danger"},this.submitValidationMessage)))},t.prototype.getFields=function(){return[].slice.call(this.element.querySelectorAll("tag-edit-field"))},t.prototype.emptySubmitStarting=function(t){return a(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{values:t,cancel:!1}]})})},Object.defineProperty(t,"is",{get:function(){return"tag-form"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{element:{elementRef:!0},errors:{state:!0},formStyle:{type:String,attr:"form-style"},getFieldValue:{method:!0},getFieldValues:{method:!0},inline:{type:Boolean,attr:"inline"},serverValidationMapper:{type:"Any",attr:"server-validation-mapper"},setError:{method:!0},setFieldValue:{method:!0},setFieldValues:{method:!0},submitButtonAccent:{type:String,attr:"submit-button-accent"},submitButtonDisabled:{type:Boolean,attr:"submit-button-disabled",mutable:!0,watchCallbacks:["watchHandler"]},submitButtonIcon:{type:String,attr:"submit-button-icon"},submitButtonIconAccent:{type:String,attr:"submit-button-icon-accent"},submitButtonText:{type:String,attr:"submit-button-text"},submitComplete:{method:!0},submitFailureMessage:{type:String,attr:"submit-failure-message"},submitStarting:{type:"Any",attr:"submit-starting"},submitState:{state:!0},submitSuccessMessage:{type:String,attr:"submit-success-message"},submitValidationMessage:{type:String,attr:"submit-validation-message"},type:{type:String,attr:"type"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"submit",method:"submit",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"valueChange",method:"changeHandler"},{name:"validated",method:"validatedHandler"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".sc-tag-form-h   .tag-form-inline.sc-tag-form{border:1px solid #e2ecef}.sc-tag-form-h   .tag-form-inline.sc-tag-form   tag-button.sc-tag-form{margin-left:20px}"},enumerable:!0,configurable:!0}),t}(),u=function(){function t(){}return t.prototype.render=function(){return s("div",{class:this.getClassNames()},s("slot",null))},t.prototype.getClassNames=function(){var t="tag-form-group";return this.inline&&(t+=" tag-form-group-inline"),this.borderless&&(t+=" tag-form-group-borderless"),t},Object.defineProperty(t,"is",{get:function(){return"tag-form-group"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{borderless:{type:Boolean,attr:"borderless"},inline:{type:Boolean,attr:"inline"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".sc-tag-form-group-h   .tag-form-group.sc-tag-form-group{padding-bottom:20px}.sc-tag-form-group-h   .tag-form-group-inline.sc-tag-form-group{display:flex;align-items:center;padding:10px 0;border-bottom:1px solid #f1f4f4}.sc-tag-form-group-h   .tag-form-group-borderless.sc-tag-form-group{border:0}"},enumerable:!0,configurable:!0}),t}();t.TagForm=o,t.TagFormGroup=u,Object.defineProperty(t,"__esModule",{value:!0})});