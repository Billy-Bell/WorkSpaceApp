{"ast":null,"code":"var __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { b as valueConvertor } from \"./chunk-caf2685f.js\";\nimport { a as httpCall } from \"./chunk-8da4d25d.js\";\n\nvar __awaiter = function __awaiter(e, a, t, r) {\n  return new (t || (t = Promise))(function (n, s) {\n    function o(e) {\n      try {\n        l(r.next(e));\n      } catch (e) {\n        s(e);\n      }\n    }\n\n    function i(e) {\n      try {\n        l(r.throw(e));\n      } catch (e) {\n        s(e);\n      }\n    }\n\n    function l(e) {\n      e.done ? n(e.value) : new t(function (a) {\n        a(e.value);\n      }).then(o, i);\n    }\n\n    l((r = r.apply(e, a || [])).next());\n  });\n};\n\nvar convertTagValidationToObject = function convertTagValidationToObject(e) {\n  return e && e.length > 0 ? e.map(function (e) {\n    return {\n      args: convertArgs(e.args, e.rule),\n      executeOn: e.executeOn,\n      message: e.message ? e.message : e.textContent.trim(),\n      rule: mapRuleStringToFunction(e.rule)\n    };\n  }) : [];\n},\n    mapRuleStringToFunction = function mapRuleStringToFunction(e) {\n  switch (e.toLowerCase()) {\n    case \"required\":\n      return required;\n\n    case \"email\":\n    case \"isemail\":\n      return isEmail;\n\n    case \"url\":\n    case \"isurl\":\n      return isUrl;\n\n    case \"maxlength\":\n      return maxLength;\n\n    case \"minlength\":\n      return minLength;\n\n    case \"inarray\":\n      return inArray;\n\n    case \"notinarray\":\n      return notInArray;\n\n    case \"matches\":\n      return matches;\n\n    case \"greaterthan\":\n      return greaterThan;\n\n    case \"greaterthanorequalto\":\n      return greaterThanOrEqualTo;\n\n    case \"lessthan\":\n      return lessThan;\n\n    case \"lessthanorequalto\":\n      return lessThanOrEqualTo;\n\n    case \"inhttpresponse\":\n      return inHttpResponse;\n\n    case \"notinhttpresponse\":\n      return notInHttpResponse;\n\n    default:\n      return window[e] ? window[e] : void 0;\n  }\n},\n    convertArgs = function convertArgs(e, a) {\n  if (e && \"string\" == typeof e) {\n    var t = extractDataTypeFromArgs(e);\n    return \"maxlength\" !== a.toLowerCase() && \"minlength\" !== a.toLowerCase() || (t.dataType = \"integer\"), \"inarray\" !== a.toLowerCase() && \"notinarray\" !== a.toLowerCase() && \"inhttpresponse\" !== a.toLowerCase() && \"notinhttpresponse\" !== a.toLowerCase() || (t.value = JSON.parse(e)), valueConvertor(t.value, t.dataType);\n  }\n\n  return e;\n},\n    extractDataTypeFromArgs = function extractDataTypeFromArgs(e) {\n  var a = {\n    dataType: \"string\",\n    value: e\n  };\n\n  if (e && \"string\" == typeof e && e.indexOf(\"|\") > 0) {\n    var t = e.indexOf(\"|\");\n    a.dataType = e.substring(t + 1), a.value = e.substring(0, t);\n  }\n\n  return a;\n},\n    validateField = function validateField(e, a, t, r) {\n  if (r === void 0) {\n    r = \"blur\";\n  }\n\n  return __awaiter(void 0, void 0, void 0, function () {\n    var n, _a;\n\n    var _this = this;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          n = {\n            valid: !0,\n            errors: []\n          };\n          _a = a && a.length > 0;\n          if (!_a) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , Promise.all(a.map(function (a) {\n            return __awaiter(_this, void 0, void 0, function () {\n              var r_1;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    if (!(a && a.rule && a.executeOn === r)) return [3\n                    /*break*/\n                    , 2];\n                    return [4\n                    /*yield*/\n                    , a.rule(t, e, a.args)];\n\n                  case 1:\n                    r_1 = _a.sent();\n                    r_1 && (n.valid = !1, n.errors.push(a.message ? a.message : r_1));\n                    _a.label = 2;\n\n                  case 2:\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          }))];\n\n        case 1:\n          _a = _b.sent();\n          _b.label = 2;\n\n        case 2:\n          return [2\n          /*return*/\n          , (_a, n)];\n      }\n    });\n  });\n},\n    haveValueChangeValidation = function haveValueChangeValidation(e) {\n  var a = !1;\n  return e && e.length > 0 && e.forEach(function (e) {\n    e && e.rule && e.executeOn && \"valuechange\" === e.executeOn.toLowerCase() && (a = !0);\n  }), a;\n},\n    convertToCamelCase = function convertToCamelCase(e) {\n  var a = e;\n  return a && (a = a.charAt(0).toLowerCase() + a.substring(1)), a;\n},\n    convertServerErrorsCamelCase = function convertServerErrorsCamelCase(e) {\n  var a = {};\n  return e && Object.keys(e).forEach(function (t) {\n    var r = convertToCamelCase(t);\n    a[r] = e[t];\n  }), a;\n},\n    mapServerValidation = function mapServerValidation(e, a) {\n  var t = e && e.body,\n      r = convertServerErrorsCamelCase(t);\n  return a.forEach(function (e) {\n    r[e] || (r[e] = []);\n  }), r;\n},\n    isBlank = function isBlank(e) {\n  return null == e || \"\" === e;\n},\n    required = function required(e, a) {\n  return isBlank(e[a]) ? \"This must be populated\" : \"\";\n},\n    isEmail = function isEmail(e, a) {\n  return isBlank(e[a]) || -1 !== e[a].search(/^[a-zA-Z0-9.!#$%&â€™*+\\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/) ? \"\" : \"This must be in a valid email format\";\n},\n    isUrl = function isUrl(e, a) {\n  return !isBlank(e[a]) && e[a].search(new RegExp(\"^(http|https)://\", \"i\")) ? \"This must be in a valid URL format\" : \"\";\n},\n    maxLength = function maxLength(e, a, t) {\n  return !isBlank(e[a]) && e[a].length > t ? \"This can not exceed \" + t + \" characters\" : \"\";\n},\n    minLength = function minLength(e, a, t) {\n  return e[a].length < t ? \"This must be at least \" + t + \" characters\" : \"\";\n},\n    inArray = function inArray(e, a, t) {\n  return -1 === t.indexOf(e[a]) ? \"This is not a valid value\" : \"\";\n},\n    notInArray = function notInArray(e, a, t) {\n  return t.indexOf(e[a]) > -1 ? \"This is not a valid value\" : \"\";\n},\n    matches = function matches(e, a, t) {\n  return isBlank(e[a]) || -1 !== e[a].search(t) ? \"\" : \"This is not in the correct format\";\n},\n    greaterThan = function greaterThan(e, a, t) {\n  return e[a] > t ? \"\" : \"This value must be greater than \" + t;\n},\n    greaterThanOrEqualTo = function greaterThanOrEqualTo(e, a, t) {\n  return e[a] >= t ? \"\" : \"This value must be greater than or equal to \" + t;\n},\n    lessThan = function lessThan(e, a, t) {\n  return e[a] < t ? \"\" : \"This value must be less than \" + t;\n},\n    lessThanOrEqualTo = function lessThanOrEqualTo(e, a, t) {\n  return e[a] <= t ? \"\" : \"This value must be less than or equal to \" + t;\n},\n    inHttpResponse = function inHttpResponse(e, a, t) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          _a = -1;\n          return [4\n          /*yield*/\n          , callAPIAndGetBodyArray(t)];\n\n        case 1:\n          return [2\n          /*return*/\n          , _a === _b.sent().indexOf(e[a]) ? \"This is not a valid value\" : \"\"];\n      }\n    });\n  });\n},\n    notInHttpResponse = function notInHttpResponse(e, a, t) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , callAPIAndGetBodyArray(t)];\n\n        case 1:\n          return [2\n          /*return*/\n          , _a.sent().indexOf(e[a]) > -1 ? \"This is not a valid value\" : \"\"];\n      }\n    });\n  });\n},\n    callAPIAndGetBodyArray = function callAPIAndGetBodyArray(e) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var a, t, r, n, s;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          t = \"\", r = \"\";\n          \"string\" == typeof e ? a = e : (a = e.path, t = e.responseBodyArrayProp, r = e.objectProp);\n          return [4\n          /*yield*/\n          , httpCall({\n            path: a\n          })];\n\n        case 1:\n          n = _a.sent();\n          return [2\n          /*return*/\n          , (s = n && n.body ? t && n.body[t] ? n.body[t] : Array.isArray(n.body) ? n.body : [] : []).map(function (e) {\n            return r && e[r] ? e[r] : e;\n          })];\n      }\n    });\n  });\n};\n\nexport { convertTagValidationToObject as a, validateField as b, haveValueChangeValidation as c, mapServerValidation as d };","map":null,"metadata":{},"sourceType":"module"}