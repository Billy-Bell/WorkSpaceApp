{"ast":null,"code":"/*! Built with http://stenciljs.com */\nvar __generator = this && this.__generator || function (e, t) {\n  var r,\n      a,\n      o,\n      i,\n      n = {\n    label: 0,\n    sent: function sent() {\n      if (1 & o[0]) throw o[1];\n      return o[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return i = {\n    next: s(0),\n    throw: s(1),\n    return: s(2)\n  }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n    return this;\n  }), i;\n\n  function s(i) {\n    return function (s) {\n      return function (i) {\n        if (r) throw new TypeError(\"Generator is already executing.\");\n\n        for (; n;) {\n          try {\n            if (r = 1, a && (o = 2 & i[0] ? a.return : i[0] ? a.throw || ((o = a.return) && o.call(a), 0) : a.next) && !(o = o.call(a, i[1])).done) return o;\n\n            switch (a = 0, o && (i = [2 & i[0], o.value]), i[0]) {\n              case 0:\n              case 1:\n                o = i;\n                break;\n\n              case 4:\n                return n.label++, {\n                  value: i[1],\n                  done: !1\n                };\n\n              case 5:\n                n.label++, a = i[1], i = [0];\n                continue;\n\n              case 7:\n                i = n.ops.pop(), n.trys.pop();\n                continue;\n\n              default:\n                if (!(o = (o = n.trys).length > 0 && o[o.length - 1]) && (6 === i[0] || 2 === i[0])) {\n                  n = 0;\n                  continue;\n                }\n\n                if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {\n                  n.label = i[1];\n                  break;\n                }\n\n                if (6 === i[0] && n.label < o[1]) {\n                  n.label = o[1], o = i;\n                  break;\n                }\n\n                if (o && n.label < o[2]) {\n                  n.label = o[2], n.ops.push(i);\n                  break;\n                }\n\n                o[2] && n.ops.pop(), n.trys.pop();\n                continue;\n            }\n\n            i = t.call(e, n);\n          } catch (e) {\n            i = [6, e], a = 0;\n          } finally {\n            r = o = 0;\n          }\n        }\n\n        if (5 & i[0]) throw i[1];\n        return {\n          value: i[0] ? i[1] : void 0,\n          done: !0\n        };\n      }([i, s]);\n    };\n  }\n};\n\nimport { h } from \"./tag-library.core.js\";\n\nvar __awaiter = function __awaiter(e, t, r, a) {\n  return new (r || (r = Promise))(function (o, i) {\n    function n(e) {\n      try {\n        c(a.next(e));\n      } catch (e) {\n        i(e);\n      }\n    }\n\n    function s(e) {\n      try {\n        c(a.throw(e));\n      } catch (e) {\n        i(e);\n      }\n    }\n\n    function c(e) {\n      e.done ? o(e.value) : new r(function (t) {\n        t(e.value);\n      }).then(n, s);\n    }\n\n    c((a = a.apply(e, t || [])).next());\n  });\n},\n    TagSearch = function () {\n  function e() {\n    var e = this;\n    this.placeholder = \"Search for records ...\", this.delay = 500, this.viewMode = \"list\", this.data = [], this.isLoading = !1, this.haveError = !1, this.setSlideOn = function () {\n      if (e.element.shadowRoot) {\n        var t = e.element.shadowRoot.querySelector(\".tag-search__slider\");\n        t && t.classList.add(\"on\");\n      }\n    }, this.setSlideOff = function () {\n      if (e.element.shadowRoot) {\n        var t = e.element.shadowRoot.querySelector(\".tag-search__slider\");\n        t && t.classList.remove(\"on\");\n      }\n    }, this.handleRecordViewClick = function () {\n      e.showRecordView();\n    }, this.handleListViewClick = function () {\n      e.showListView();\n    };\n  }\n\n  return e.prototype.componentDidLoad = function () {\n    this.showListView();\n  }, e.prototype.getSearch = function () {\n    var e = this.getSearchBox();\n    if (e) return this.getSearchBoxInput(e).value;\n  }, e.prototype.setSearch = function (e, t) {\n    var r = this.getSearchBox();\n    r && (this.getSearchBoxInput(r).value = e), t || this.search.emit({\n      criteria: e\n    });\n  }, e.prototype.setData = function (e) {\n    this.data = e.data ? e.data : e, e.error && (this.haveError = !0);\n    var t = this.getList();\n    t && t.setData(e);\n    var r = this.getRecord();\n    r && r.setData(e);\n    var a = this.getTable();\n    a && a.setData(e), r && (\"list\" === this.viewMode && 1 === this.data.length ? this.showRecordView() : this.showListView()), this.isLoading = !1;\n  }, e.prototype.handleSearch = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return this.haveError = !1, [2];\n      });\n    });\n  }, e.prototype.handleItemSelected = function (e) {\n    var t = e.detail,\n        r = this.getRecord();\n    r && (r.selectedIndex = t.itemIndex, this.showRecordView());\n  }, e.prototype.render = function () {\n    var e = this,\n        t = e.placeholder,\n        r = e.delay,\n        a = e.isLoading,\n        o = e.viewMode,\n        i = e.data,\n        n = e.borderless,\n        s = this.getSearch() && !this.haveData() && !a;\n    return h(\"div\", null, h(\"div\", {\n      class: n ? \"tag-search tag-search-borderless\" : \"tag-search\"\n    }, h(\"tag-searchbox\", {\n      class: \"tag-search__search-box\",\n      placeholder: t,\n      delay: r,\n      borderless: n\n    })), !a && h(\"div\", {\n      class: \"tag-search__slider\"\n    }, h(\"slot\", null)), a && h(\"tag-progress-indeterminate\", null), this.haveError && h(\"tag-alert\", {\n      type: \"danger\"\n    }, \"Sorry, a problem has occurred. Please try again\"), this.haveMultipleViews() && h(\"div\", {\n      class: \"tag-search__view-options\"\n    }, i && i.length > 0 && \"list\" === o && h(\"button\", {\n      onClick: this.handleRecordViewClick,\n      title: \"List View\"\n    }, h(\"tag-icon\", {\n      icon: \"Doc\"\n    })), i && i.length > 0 && \"record\" === o && h(\"button\", {\n      onClick: this.handleListViewClick,\n      title: \"Record View\"\n    }, h(\"tag-icon\", {\n      icon: \"ItemList\"\n    }))), s && h(\"div\", {\n      class: \"tag-search__no-items-container\"\n    }, h(\"tag-icon\", {\n      icon: \"CircleInfo\",\n      accent: \"dolphinblue\"\n    }), h(\"span\", {\n      class: \"no-items-text\"\n    }, \"No items to display\")));\n  }, e.prototype.getList = function () {\n    return this.element.querySelector(\"tag-list\");\n  }, e.prototype.getRecord = function () {\n    return this.element.querySelector(\"tag-record\");\n  }, e.prototype.getTable = function () {\n    return this.element.querySelector(\"tag-table\");\n  }, e.prototype.showListView = function () {\n    var e = this.getList();\n    e && (e.style.display = \"block\");\n    var t = this.getTable();\n    t && (t.style.display = \"block\");\n    var r = this.getRecord();\n    r && (r.style.display = \"none\"), this.viewMode = \"list\", this.setSlideOn(), setTimeout(this.setSlideOff, 500);\n  }, e.prototype.showRecordView = function () {\n    var e = this.getList();\n    e && (e.style.display = \"none\");\n    var t = this.getTable();\n    t && (t.style.display = \"none\");\n    var r = this.getRecord();\n    r && (r.style.display = \"block\"), this.viewMode = \"record\", this.setSlideOn(), setTimeout(this.setSlideOff, 500);\n  }, e.prototype.haveMultipleViews = function () {\n    var e = !1;\n    this.getList() && (e = !0), this.getTable() && (e = !0);\n    var t = !1;\n    return this.getRecord() && (t = !0), e && t;\n  }, e.prototype.getSearchBox = function () {\n    return this.element.shadowRoot ? this.element.shadowRoot.querySelector(\"tag-searchbox\") : this.element.querySelector(\"tag-searchbox\");\n  }, e.prototype.getSearchBoxInput = function (e) {\n    return e.shadowRoot ? e.shadowRoot.querySelector(\"input\") : e.querySelector(\"input\");\n  }, e.prototype.haveData = function () {\n    return !(!this.data || !this.data.length) && 0 !== this.data.length;\n  }, Object.defineProperty(e, \"is\", {\n    get: function get() {\n      return \"tag-search\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"encapsulation\", {\n    get: function get() {\n      return \"shadow\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"properties\", {\n    get: function get() {\n      return {\n        borderless: {\n          type: Boolean,\n          attr: \"borderless\"\n        },\n        data: {\n          state: !0\n        },\n        delay: {\n          type: Number,\n          attr: \"delay\"\n        },\n        element: {\n          elementRef: !0\n        },\n        getSearch: {\n          method: !0\n        },\n        haveError: {\n          state: !0\n        },\n        isLoading: {\n          state: !0\n        },\n        placeholder: {\n          type: String,\n          attr: \"placeholder\"\n        },\n        setData: {\n          method: !0\n        },\n        setSearch: {\n          method: !0\n        },\n        viewMode: {\n          state: !0\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"events\", {\n    get: function get() {\n      return [{\n        name: \"search\",\n        method: \"search\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"listeners\", {\n    get: function get() {\n      return [{\n        name: \"search\",\n        method: \"handleSearch\"\n      }, {\n        name: \"listItemSelected\",\n        method: \"handleItemSelected\"\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"style\", {\n    get: function get() {\n      return \":host{font-family:sans-serif;font-size:13px;text-rendering:optimizeLegibility}:host .tag-search{margin:0;padding:5px;background-color:#f8f8f8;border:1px solid #e2ecef}:host .tag-search-borderless{border:0;background-color:transparent}:host .tag-search__view-options{display:flex;flex-direction:row-reverse;align-items:center}:host .tag-search__view-options button{display:flex;align-items:center;cursor:pointer;margin:0;padding:0 5px;height:30px;line-height:30px;border-style:none;border-radius:2px;background-color:transparent;border-color:transparent;box-shadow:none;position:relative;box-sizing:content-box;-webkit-appearance:button;appearance:button;text-align:center;white-space:nowrap;vertical-align:middle;user-select:none;transition:color .15s ease-in-out,background-color .15s ease-in-out, border-color .15s ease-in-out,box-shadow .15s ease-in-out;text-transform:none;overflow:visible}:host .tag-search__view-options button:hover{background-color:#f8f8f8;border-color:#f8f8f8}:host .tag-search__no-items-container{display:flex;align-items:center;padding:5px}:host .tag-search__no-items-text{margin-left:3px}:host .tag-search__slider.on{margin-left:-100px;-webkit-animation:.3s forwards slide;animation:.3s forwards slide}\\@-webkit-keyframes slide{100%{margin-left:0}}\\@keyframes slide{100%{margin-left:0}}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e;\n}(),\n    TagSearchbox = function () {\n  function e() {\n    var e = this;\n    this.placeholder = \"Search for records ...\", this.delay = 500, this.typingTimer = null, this.handleKeyUp = function (t) {\n      var r = t.target.value;\n      clearTimeout(e.typingTimer), \"Enter\" === t.key ? (e.value = r, e.search.emit({\n        criteria: r\n      })) : (e.value = r, e.typingTimer = setTimeout(function () {\n        e.search.emit({\n          criteria: r\n        });\n      }, e.delay));\n    }, this.handleKeyDown = function (t) {\n      if (\"Tab\" === t.key) {\n        var r = t.target.value;\n        clearTimeout(e.typingTimer), e.value = r, e.search.emit({\n          criteria: r\n        });\n      }\n    };\n  }\n\n  return e.prototype.getSearch = function () {\n    return this.value;\n  }, e.prototype.setSearch = function (e, t) {\n    this.value = e, t || this.search.emit({\n      criteria: e\n    });\n  }, e.prototype.render = function () {\n    var e = this,\n        t = this.placeholder,\n        r = this.value,\n        a = this.borderless ? \"tag-searchbox-borderless\" : \"\",\n        o = this.borderless ? \"tag-searchbox__icon-container tag-searchbox__icon-container-borderless\" : \"tag-searchbox__icon-container\";\n    return [h(\"input\", {\n      inputmode: \"search\",\n      placeholder: t,\n      onKeyDown: this.handleKeyDown,\n      onKeyUp: this.handleKeyUp,\n      onClick: function onClick(t) {\n        return e.handleClick(t);\n      },\n      \"aria-label\": t,\n      value: r,\n      class: a\n    }), h(\"span\", {\n      class: o\n    }, h(\"tag-icon\", {\n      icon: \"Search\",\n      style: {\n        color: \"#707070\"\n      }\n    }))];\n  }, e.prototype.handleClick = function (e) {\n    e.stopPropagation();\n  }, Object.defineProperty(e, \"is\", {\n    get: function get() {\n      return \"tag-searchbox\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"encapsulation\", {\n    get: function get() {\n      return \"shadow\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"properties\", {\n    get: function get() {\n      return {\n        borderless: {\n          type: Boolean,\n          attr: \"borderless\"\n        },\n        delay: {\n          type: Number,\n          attr: \"delay\"\n        },\n        getSearch: {\n          method: !0\n        },\n        placeholder: {\n          type: String,\n          attr: \"placeholder\"\n        },\n        setSearch: {\n          method: !0\n        },\n        value: {\n          type: String,\n          attr: \"value\",\n          mutable: !0\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"events\", {\n    get: function get() {\n      return [{\n        name: \"search\",\n        method: \"search\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"style\", {\n    get: function get() {\n      return \":host{font-family:sans-serif;font-size:13px;text-rendering:optimizeLegibility;display:flex;flex-direction:row-reverse;margin:0;padding:0;border:0}:host .tag-searchbox-borderless{border:0}:host .tag-searchbox__icon-container{margin:0;padding:0 5px;background:#fff;border:1px solid #e2ecef;border-top-left-radius:2px;border-bottom-left-radius:2px;border-right:0;color:#afbac5;fill:#afbac5;text-align:center;white-space:nowrap;vertical-align:middle;box-sizing:border-box;display:flex;align-items:center;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}:host .tag-searchbox__icon-container-borderless{border:0}:host input{width:100%;height:32px;line-height:1.42857143;font-family:Roboto,system-ui,-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\",\\\"Segoe UI Symbol\\\";font-size:13px;margin:0;z-index:0;border-color:#e2ecef;border-left:0;border-top-style:solid;border-top-width:1px;border-right-style:solid;border-right-width:1px;border-bottom-style:solid;border-bottom-width:1px;border-image-source:initial;border-image-slice:initial;border-image-width:initial;border-image-outset:initial;border-image-repeat:initial;background-color:#fff;background-image:none;color:#7e7e81;-webkit-appearance:none;appearance:none;box-sizing:border-box;box-shadow:none;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;overflow:visible;padding:6px 42.5px 6px 3px;border-radius:0 2px 2px 0}:host input::placeholder{color:#aaaab1}:host input::-ms-clear{display:none}:host input:focus{border-color:#bdc7d0;outline:0}:host input:focus+.tag-searchbox__icon-container{border-color:#bdc7d0}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e;\n}();\n\nexport { TagSearch, TagSearchbox };","map":null,"metadata":{},"sourceType":"module"}