{"ast":null,"code":"/*! Built with http://stenciljs.com */\nvar __generator = this && this.__generator || function (t, e) {\n  var r,\n      i,\n      n,\n      s,\n      a = {\n    label: 0,\n    sent: function sent() {\n      if (1 & n[0]) throw n[1];\n      return n[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return s = {\n    next: o(0),\n    throw: o(1),\n    return: o(2)\n  }, \"function\" == typeof Symbol && (s[Symbol.iterator] = function () {\n    return this;\n  }), s;\n\n  function o(s) {\n    return function (o) {\n      return function (s) {\n        if (r) throw new TypeError(\"Generator is already executing.\");\n\n        for (; a;) {\n          try {\n            if (r = 1, i && (n = 2 & s[0] ? i.return : s[0] ? i.throw || ((n = i.return) && n.call(i), 0) : i.next) && !(n = n.call(i, s[1])).done) return n;\n\n            switch (i = 0, n && (s = [2 & s[0], n.value]), s[0]) {\n              case 0:\n              case 1:\n                n = s;\n                break;\n\n              case 4:\n                return a.label++, {\n                  value: s[1],\n                  done: !1\n                };\n\n              case 5:\n                a.label++, i = s[1], s = [0];\n                continue;\n\n              case 7:\n                s = a.ops.pop(), a.trys.pop();\n                continue;\n\n              default:\n                if (!(n = (n = a.trys).length > 0 && n[n.length - 1]) && (6 === s[0] || 2 === s[0])) {\n                  a = 0;\n                  continue;\n                }\n\n                if (3 === s[0] && (!n || s[1] > n[0] && s[1] < n[3])) {\n                  a.label = s[1];\n                  break;\n                }\n\n                if (6 === s[0] && a.label < n[1]) {\n                  a.label = n[1], n = s;\n                  break;\n                }\n\n                if (n && a.label < n[2]) {\n                  a.label = n[2], a.ops.push(s);\n                  break;\n                }\n\n                n[2] && a.ops.pop(), a.trys.pop();\n                continue;\n            }\n\n            s = e.call(t, a);\n          } catch (t) {\n            s = [6, t], i = 0;\n          } finally {\n            r = n = 0;\n          }\n        }\n\n        if (5 & s[0]) throw s[1];\n        return {\n          value: s[0] ? s[1] : void 0,\n          done: !0\n        };\n      }([s, o]);\n    };\n  }\n};\n\nimport { h } from \"./tag-library.core.js\";\nimport { a as createStyleFromJson } from \"./chunk-8b261813.js\";\nimport { d as mapServerValidation } from \"./chunk-3e3cd362.js\";\nimport \"./chunk-caf2685f.js\";\nimport \"./chunk-8da4d25d.js\";\n\nvar __awaiter = function __awaiter(t, e, r, i) {\n  return new (r || (r = Promise))(function (n, s) {\n    function a(t) {\n      try {\n        u(i.next(t));\n      } catch (t) {\n        s(t);\n      }\n    }\n\n    function o(t) {\n      try {\n        u(i.throw(t));\n      } catch (t) {\n        s(t);\n      }\n    }\n\n    function u(t) {\n      t.done ? n(t.value) : new r(function (e) {\n        e(t.value);\n      }).then(a, o);\n    }\n\n    u((i = i.apply(t, e || [])).next());\n  });\n},\n    TagForm = function () {\n  function t() {\n    var t = this;\n    this.type = \"form\", this.submitButtonText = \"Submit\", this.submitButtonDisabled = !1, this.submitSuccessMessage = \"The information was successfully saved!\", this.submitFailureMessage = \"Sorry, an unexpected error has occurred\", this.submitValidationMessage = \"Sorry, some of the information is invalid. Please review, adjust and try again\", this.submitStarting = this.emptySubmitStarting, this.serverValidationMapper = mapServerValidation, this.formStyle = \"\", this.errors = {}, this.submitState = {\n      inProgress: !1\n    }, this.values = {}, this.validateForm = function () {\n      return __awaiter(t, void 0, void 0, function () {\n        var t,\n            e = this;\n        return __generator(this, function (r) {\n          switch (r.label) {\n            case 0:\n              return t = this.getFields(), [4, Promise.all(t.map(function (t) {\n                return __awaiter(e, void 0, void 0, function () {\n                  var e;\n                  return __generator(this, function (r) {\n                    switch (r.label) {\n                      case 0:\n                        return [4, t.validate()];\n\n                      case 1:\n                        return e = r.sent(), this.setError(t.name, e), [2];\n                    }\n                  });\n                });\n              }))];\n\n            case 1:\n              return r.sent(), [2, !this.haveErrors()];\n          }\n        });\n      });\n    }, this.haveErrors = function () {\n      var e = !1;\n      return Object.keys(t.errors).forEach(function (r) {\n        t.errors[r].length > 0 && (e = !0);\n      }), e;\n    }, this.handleKeyPress = function (e) {\n      13 === (e.which || e.keyCode || 0) && e.target.allowSubmitOnReturn && t.handleSubmit();\n    }, this.handleSubmit = function (e) {\n      return __awaiter(t, void 0, void 0, function () {\n        var t,\n            r,\n            i = this;\n        return __generator(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return e && e.preventDefault(), this.submitButtonDisabled ? [2] : ([].slice.call(this.element.querySelectorAll(\"input\")).forEach(function (t) {\n                t.name && void 0 !== t.value && (i.values[t.name] = t.value);\n              }), this.getFields().forEach(function (t) {\n                var e = t;\n                void 0 !== e.value && (i.values[e.name] = e.value);\n              }), [4, this.submitStarting(this.values)]);\n\n            case 1:\n              return (t = n.sent()).cancel ? [2] : (this.values = t.values, [4, this.validateForm()]);\n\n            case 2:\n              return n.sent() && (this.submitState = Object.assign({}, this.submitState, {\n                inProgress: !0\n              }), this.submitButtonDisabled = !0, r = Object.assign({\n                type: this.type\n              }, this.values), this.submit.emit({\n                body: r\n              })), [2];\n          }\n        });\n      });\n    };\n  }\n\n  return t.prototype.watchHandler = function (t, e) {\n    this.submitState = !0 === t && !1 === e ? Object.assign({}, this.submitState, {\n      inProgress: !0\n    }) : Object.assign({}, this.submitState, {\n      inProgress: !1\n    });\n  }, t.prototype.getFieldValues = function () {\n    return this.values;\n  }, t.prototype.getFieldValue = function (t) {\n    return this.values[t];\n  }, t.prototype.setFieldValues = function (t) {\n    this.values = Object.assign({}, this.values, t);\n  }, t.prototype.setFieldValue = function (t, e) {\n    var r,\n        i = ((r = {})[t] = e, r);\n    this.values = Object.assign({}, this.values, i);\n  }, t.prototype.setError = function (t, e) {\n    var r;\n    this.errors = Object.assign({}, this.errors, ((r = {})[t] = e, r));\n  }, t.prototype.changeHandler = function (t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var e;\n      return __generator(this, function (r) {\n        return e = t.detail, this.setFieldValue(e.name, e.value), [2];\n      });\n    });\n  }, t.prototype.validatedHandler = function (t) {\n    return __awaiter(this, void 0, void 0, function () {\n      var e;\n      return __generator(this, function (r) {\n        return e = t.detail, this.setError(e.name, e.errors), [2];\n      });\n    });\n  }, t.prototype.submitComplete = function (t) {\n    var e = this,\n        r = {};\n    Object.keys(this.values).forEach(function (t) {\n      r[t] = [];\n    }), 400 === t.status && (r = this.serverValidationMapper(t, Object.keys(this.values))), this.submitState = Object.assign({}, this.submitState, {\n      inProgress: !1,\n      result: {\n        success: t.ok,\n        validationError: 400 === t.status\n      }\n    }), this.errors = r, this.getFields().forEach(function (t) {\n      var r = t;\n      r.setErrors(e.errors[r.name]), r.setFormSuccessfullySubmitted(e.submitState.result.success);\n    });\n  }, t.prototype.render = function () {\n    return h(\"form\", {\n      style: createStyleFromJson(this.formStyle),\n      onSubmit: this.handleSubmit,\n      onKeyPress: this.handleKeyPress,\n      novalidate: !0,\n      class: this.inline ? \"tag-form-inline\" : \"tag-form\"\n    }, h(\"slot\", null), h(\"tag-form-group\", {\n      inline: this.inline,\n      borderless: this.inline\n    }, h(\"tag-button\", {\n      type: \"submit\",\n      icon: this.submitButtonIcon,\n      \"icon-accent\": this.submitButtonIconAccent,\n      accent: this.submitButtonAccent,\n      disabled: this.haveErrors() || this.submitState.inProgress || this.submitButtonDisabled,\n      onButtonClick: this.handleSubmit,\n      text: this.submitButtonText\n    })), this.submitState.result && this.submitState.result.success && h(\"tag-form-group\", {\n      inline: this.inline,\n      borderless: this.inline\n    }, h(\"tag-alert\", {\n      type: \"information\"\n    }, this.submitSuccessMessage)), this.submitState.result && !1 === this.submitState.result.success && !this.submitState.result.validationError && h(\"tag-form-group\", {\n      inline: this.inline,\n      borderless: this.inline\n    }, h(\"tag-alert\", {\n      type: \"danger\"\n    }, this.submitFailureMessage)), this.submitState.result && !1 === this.submitState.result.success && this.submitState.result.validationError && h(\"tag-form-group\", {\n      inline: this.inline,\n      borderless: this.inline\n    }, h(\"tag-alert\", {\n      type: \"danger\"\n    }, this.submitValidationMessage)));\n  }, t.prototype.getFields = function () {\n    return [].slice.call(this.element.querySelectorAll(\"tag-edit-field\"));\n  }, t.prototype.emptySubmitStarting = function (t) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (e) {\n        return [2, {\n          values: t,\n          cancel: !1\n        }];\n      });\n    });\n  }, Object.defineProperty(t, \"is\", {\n    get: function get() {\n      return \"tag-form\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"encapsulation\", {\n    get: function get() {\n      return \"shadow\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"properties\", {\n    get: function get() {\n      return {\n        element: {\n          elementRef: !0\n        },\n        errors: {\n          state: !0\n        },\n        formStyle: {\n          type: String,\n          attr: \"form-style\"\n        },\n        getFieldValue: {\n          method: !0\n        },\n        getFieldValues: {\n          method: !0\n        },\n        inline: {\n          type: Boolean,\n          attr: \"inline\"\n        },\n        serverValidationMapper: {\n          type: \"Any\",\n          attr: \"server-validation-mapper\"\n        },\n        setError: {\n          method: !0\n        },\n        setFieldValue: {\n          method: !0\n        },\n        setFieldValues: {\n          method: !0\n        },\n        submitButtonAccent: {\n          type: String,\n          attr: \"submit-button-accent\"\n        },\n        submitButtonDisabled: {\n          type: Boolean,\n          attr: \"submit-button-disabled\",\n          mutable: !0,\n          watchCallbacks: [\"watchHandler\"]\n        },\n        submitButtonIcon: {\n          type: String,\n          attr: \"submit-button-icon\"\n        },\n        submitButtonIconAccent: {\n          type: String,\n          attr: \"submit-button-icon-accent\"\n        },\n        submitButtonText: {\n          type: String,\n          attr: \"submit-button-text\"\n        },\n        submitComplete: {\n          method: !0\n        },\n        submitFailureMessage: {\n          type: String,\n          attr: \"submit-failure-message\"\n        },\n        submitStarting: {\n          type: \"Any\",\n          attr: \"submit-starting\"\n        },\n        submitState: {\n          state: !0\n        },\n        submitSuccessMessage: {\n          type: String,\n          attr: \"submit-success-message\"\n        },\n        submitValidationMessage: {\n          type: String,\n          attr: \"submit-validation-message\"\n        },\n        type: {\n          type: String,\n          attr: \"type\"\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"events\", {\n    get: function get() {\n      return [{\n        name: \"submit\",\n        method: \"submit\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"listeners\", {\n    get: function get() {\n      return [{\n        name: \"valueChange\",\n        method: \"changeHandler\"\n      }, {\n        name: \"validated\",\n        method: \"validatedHandler\"\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"style\", {\n    get: function get() {\n      return \":host .tag-form-inline{border:1px solid #e2ecef}:host .tag-form-inline tag-button{margin-left:20px}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t;\n}(),\n    TagFormGroup = function () {\n  function t() {}\n\n  return t.prototype.render = function () {\n    return h(\"div\", {\n      class: this.getClassNames()\n    }, h(\"slot\", null));\n  }, t.prototype.getClassNames = function () {\n    var t = \"tag-form-group\";\n    return this.inline && (t += \" tag-form-group-inline\"), this.borderless && (t += \" tag-form-group-borderless\"), t;\n  }, Object.defineProperty(t, \"is\", {\n    get: function get() {\n      return \"tag-form-group\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"encapsulation\", {\n    get: function get() {\n      return \"shadow\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"properties\", {\n    get: function get() {\n      return {\n        borderless: {\n          type: Boolean,\n          attr: \"borderless\"\n        },\n        inline: {\n          type: Boolean,\n          attr: \"inline\"\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"style\", {\n    get: function get() {\n      return \":host .tag-form-group{padding-bottom:20px}:host .tag-form-group-inline{display:flex;align-items:center;padding:10px 0;border-bottom:1px solid #f1f4f4}:host .tag-form-group-borderless{border:0}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t;\n}();\n\nexport { TagForm, TagFormGroup };","map":null,"metadata":{},"sourceType":"module"}